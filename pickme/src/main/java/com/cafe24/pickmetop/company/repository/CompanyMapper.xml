<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cafe24.pickmetop.company.repository.CompanyMapper">
	<!-- 기업리뷰사용자 등록 -->
	<insert id="insertCompanyReview" parameterType="com.cafe24.pickmetop.company.model.CompanyReviewVo">
		INSERT INTO tb_company_review(
			company_cd,
			login_id,
			job_topindex_cd,
			review_workyear,
			review_rate,
			review_comment,
			review_strength,
			review_weak,
			review_wish,
			review_promotion,
			review_welfare,
			review_culture,
			review_balance,
			review_ceorate,
			review_ceosupport,
			review_regdate,
			review_modidate
		) VALUES (
			#{companyCd},
			#{loginId},
			#{jobTopIndexCd},
			#{reviewWorkYear},
			#{reviewRate},
			#{reviewComment},
			#{reviewStrength},
			#{reviewWeak},
			#{reviewWish},
			#{reviewPromotion},
			#{reviewWelfare},
			#{reviewCulture},
			#{reviewBalance},
			#{reviewCeorate},
			#{reviewCeosupport},
			now(),
			now()	
		)
	</insert>
	<!-- 기업이름으로 기업코드검색 -->
	<select id="selectCompanyInfoByCompanyCd" resultType="String" parameterType="String">
		SELECT
			company_cd
		FROM
		 	tb_company_info
		 WHERE
		 	company_name = #{companyName}
	</select>
	<!-- 기업정보리스트 -->
	<select id="selectCompanyInfoAllList" resultType="com.cafe24.pickmetop.company.model.CompanyInfoVo">
		SELECT
			company_name as companyName
		FROM
			tb_company_info
		ORDER BY
			company_cd
	</select>
	
	<!-- 직무 중분류 리스트 -->
	<select id="selectJobTopIndexAllList" resultType="com.cafe24.pickmetop.admin.model.JobTopIndexVo">
		SELECT
			job_topindex_cd as jobTopIndexCd,
			job_topindex_name as jobTopIndexName
		FROM
			tb_job_topindex
		ORDER BY
			job_topindex_cd
	</select>
</mapper>